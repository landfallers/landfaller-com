# 記事の投稿の仕方

LANDFALLは研究室紹介冊子LANDFALLとその他といった枠組みを設けています。
LANDFALL誌はmagazinesと呼び、その他のほうをblogsとしています。ここではBLOGの投稿方法について記載しておきます。blogsのディレクトリを開くといくつかのフォルダがあると思います。ここに作成したコンテンツの名前を入れたフォルダを作ります。

さらにそのフォルダ内に`index.mdx`と名前を付けたものを作成します。実はここに付けられているフォルダ名がフォルダ内のコンテンツのurlに対応しています。またmdxといったファイルはあまりなじみのないものかもしれません。これはmarkdownにjsxの記法を取り入れたものです。ひとまず単なるmarkdownと理解してもらって大きな問題はないと思います。

作成したファイルをvscodenなどのエディタで開き、上部に次のようなメタデータを入力します。

```mdx
---
title: "LANDFALLとは"
date: "2021-03-16"
tags: ["LANDFALL", "新歓"]
category: "新歓"
preface: "landfallのあれこれについてQ＆A方式でまとめてみました。landfallに入部しようか迷っている皆さん、ぜひこれを読んでlandfallの雰囲気をつかみましょう！"
---
```

これらの情報を入力するときに注意しないとならないのは「:」の後に***半角の空白が必要である***ことです。ここで書いた情報はサイトの生成に活用されるため、非常に重要になります。ここの情報が間違っていると生成に失敗します。

”---”以下のところに記事を書きます。ここではmarkdown記法が使えます。

また`gatsby develop`を入力してlocalサーバーを起動させて変更を確認しながらやると分かりやすいと思います。変更を確認するには上記のメタ情報を入力したうえで保存すると反映されるようになっています。反映はlocalサーバーが起動しているのならば自動的になされます。

作業が完了したら保存しましょう。次に変更をgithubに反映させる作業に移ります。ここではコマンドプロンプトを用いたやり方を説明しますが、詳細については他のドキュメントを参照ください。またvscodeの拡張機能git historyやGUIソフトのsourcetreeを用いて同様のことをやっても構いません。やり方については各種ドキュメントが参考になるでしょう。

```[]
$git branch <あなたと認識できる名前(本名は避けた方がいいかもしれません。)>
$git checkout <上のブランチ名>
$git add -A
$git commit -m "コミット内容"
$git push -u origin <上のブランチ名>
```

としてください。さらにgithubのlandfallers/landfaller-comにいき、pull requestの項目を開きます。そこで右側にある「New pull　request」を選択します。するとbaseとcompareの二つが選択できるページになると思います。そこでcompare側を開くとあなたが先ほど指定したブランチ名があるのでそれを選択するとcreate pull requestのボタンが出てきます。そちらをクリックするとコメントがかけるページに飛びます。そこで簡単な説明をかきpull requestを完了します。ここから先は管理者の仕事です。あなたがもし管理者ならばこの変更を承認する作業があります。

コンフリクトのない場合は記事に問題が見つからない限り、そのままmainブランチにmergeしましょう。するとnetlifyのほうでコミットを検知して自動で更新してくれます。

時間にゆとりがありましたらnetlifyのほうでbuildが完了しているかを確認しましょう。